<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org/">
<head>
    <title>CompraMI</title>
    <link rel="icon" href="./templates/favicon.ico" type="image/x-icon"/>
    <link rel="shortcut icon" href="./templates/favicon.ico" type="image/x-icon"/>
    <link rel="stylesheet" type="text/css" th:href="@{./CSS/styles.css}">
</head>
<body>
<header th:insert="templates/template1 :: headerLoggedCustomer"></header>
<h1>
    <span th:if="${session.sex == 'male'}">Benvenuto</span>
    <span th:if="${session.sex == 'female'}">Benvenuta</span>
    <span th:if="${session.sex == 'notdefine'}">Benvenut*</span>
    <span th:text="${session.name}"></span>
</h1>

<div th:if="${showProducts == 2}">


    <table>
        <tr>
            <th>Codice</th>
            <th>Nome</th>
            <th>Prezzo</th>
        </tr>

        <th:block th:each="prod: ${searchedProducts}">
            <tr>
                <td th:text="${prod.code}"></td>
                <td th:text="${prod.name}"></td>
                <td><span th:text="${#numbers.formatCurrency(prod.price)}"></span>
                    <button>
                        <label class="details_button" th:for="${prod.code}">
                        <input type="checkbox" th:id="${prod.code}" style="display:none;" />
                            Dettagli</label>
                    </button>
                </td>
            </tr>
            <tr>
                <label th:for="${prod.code}">
                <td colspan="3" th:id="${prod.code}" th:text="${prod.description}"></td>
                </label>
            </tr>
        </th:block>
    </table>

</div>


<style>
    #hidden {
    display: none;
}
:checked + #hidden {
    display: block;
}
</style>


<footer th:insert="templates/template1 :: footer"></footer>
</body>
</html>